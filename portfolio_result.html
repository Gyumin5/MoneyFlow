
    <!DOCTYPE html>
    <html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>Cap Defend V10 Recommendation</title>
        <style>
            body { font-family: 'Segoe UI', sans-serif; background: #f4f6f8; margin: 20px; color: #333; }
            .container { max-width: 1000px; margin: 0 auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
            h1 { color: #2980b9; border-bottom: 2px solid #2980b9; padding-bottom: 10px; }
            h2 { color: #2c3e50; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 5px;}
            table { width: 100%; border-collapse: collapse; margin: 15px 0; }
            th, td { padding: 10px; border: 1px solid #ddd; text-align: left; }
            th { background: #f8f9fa; }
            .small-table table { width: auto; font-size: 0.9em; }
            .calculator { background: #ebf5fb; padding: 20px; border-radius: 8px; margin-top: 20px; }
            input, button { padding: 10px; margin: 5px 0; border-radius: 4px; border: 1px solid #ccc; }
            button { background: #2980b9; color: white; border: none; cursor: pointer; }
            button:hover { background: #1f618d; }
            .highlight { color: #e74c3c; font-weight: bold; }
            .dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
            .card { background: #fff; padding: 20px; border-radius: 12px; border: 1px solid #e1e4e8; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
            .calc-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; }
            .calc-box { background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd; }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>ğŸš€ Cap Defend V10 (Grand Optimal)</h1>
            <p><strong>ì£¼ì‹(V3 Mod) + ì½”ì¸(V10 Original) + ë°©ì–´(Enhanced)</strong> | ê¸°ì¤€ì¼: 2025-12-31</p>
            
            <div class="dashboard-grid">
                <div class="card">
                    <h3>ğŸ›¡ï¸ Market Pulse (Signal)</h3>
                    <p style="font-size:0.9em; color:#666;">ì¶”ì„¸ì„ (MA) ì´ê²©ë„ (0% ê·¼ì ‘ ì‹œ ë°˜ì „ ì£¼ì˜)</p>
                    <div style='display:flex; gap: 10px; margin-bottom: 20px;'><div><strong>BTC:</strong> <span style='background:#e74c3c; color:white; padding:4px 8px; border-radius:4px; font-weight:bold;'>-1.67%</span> (vs MA50)</div><div><strong>VT:</strong> <span style='background:#27ae60; color:white; padding:4px 8px; border-radius:4px; font-weight:bold;'>+10.36%</span> (vs MA200)</div><div><strong>EEM:</strong> <span style='background:#27ae60; color:white; padding:4px 8px; border-radius:4px; font-weight:bold;'>+12.46%</span> (vs MA200)</div></div>
                </div>
                <div class="card">
                     <h3>ğŸ§  Strategy Insights</h3>
                     <p><strong>Top Momentum (3):</strong> GLD, VEA, EEM</p>
                     <p><strong>Top Quality (3):</strong> GLD, EEM, VEA</p>
                </div>
            </div>

            <div style="display: flex; justify-content: space-between; background: #ecf0f1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <div><strong>ì£¼ì‹ ìƒíƒœ:</strong> ê³µê²© ëª¨ë“œ</div>
                <div><strong>ì½”ì¸ ìƒíƒœ:</strong> Risk-Off</div>
                <div><strong>ì½”ì¸ í„´ì˜¤ë²„:</strong> 0.00%</div>
            </div>

            <h2>ğŸ“Š ìµœì¢… ì¶”ì²œ í¬íŠ¸í´ë¦¬ì˜¤</h2>
            <table>
                <thead><tr><th>ì¢…ëª©</th><th>ìì‚°êµ°</th><th>ë¹„ì¤‘</th></tr></thead>
                <tbody><tr><td>EEM</td><td>ì£¼ì‹</td><td>20.00%</td></tr><tr><td>GLD</td><td>ì£¼ì‹</td><td>20.00%</td></tr><tr><td>VEA</td><td>ì£¼ì‹</td><td>20.00%</td></tr><tr><td>Cash</td><td>í˜„ê¸ˆ</td><td>40.00%</td></tr></tbody>
            </table>

            <h2>ğŸ§® íˆ¬ì ë°°ë¶„ ê³„ì‚°ê¸°</h2>
            <div class="calc-grid">
                <div class="calc-box">
                    <h3>ğŸ’° ì „ì²´ íˆ¬ìê¸ˆ</h3>
                    <input type="number" id="invest-amt" placeholder="ì „ì²´ íˆ¬ìê¸ˆ (ì›)" style="width:90%">
                    <button onclick="calc('total')" style="width:100%">ê³„ì‚° (6:4 ë°°ë¶„)</button>
                </div>
                <div class="calc-box">
                    <h3>ğŸ“ˆ ì£¼ì‹ë§Œ ê³„ì‚°</h3>
                    <input type="number" id="stock-amt" placeholder="ì£¼ì‹ íˆ¬ìê¸ˆ (ì›)" style="width:90%">
                    <button onclick="calc('stock')" style="width:100%">ì£¼ì‹ ë°°ë¶„</button>
                </div>
                <div class="calc-box">
                    <h3>ğŸª™ ì½”ì¸ë§Œ ê³„ì‚°</h3>
                    <input type="number" id="coin-amt" placeholder="ì½”ì¸ íˆ¬ìê¸ˆ (ì›)" style="width:90%">
                    <button onclick="calc('coin')" style="width:100%">ì½”ì¸ ë°°ë¶„</button>
                </div>
            </div>
            <div id="calc-res" class="calculator" style="display:none;"></div>

            <div class="calculator">
                <h3>ğŸª™ ì½”ì¸ í„´ì˜¤ë²„ ê³„ì‚°ê¸°</h3>
                <p>í˜„ì¬ ë³´ìœ  ì½”ì¸ ì…ë ¥ ì‹œ ì¶”ì²œ í¬íŠ¸í´ë¦¬ì˜¤ì™€ì˜ ì°¨ì´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</p>
                <div id="my-assets">
                    <!-- JS generated rows -->
                </div>
                <button onclick="calcTurnover()">ë‚´ í„´ì˜¤ë²„ ê³„ì‚°</button>
                <div id="turnover-res"></div>
            </div>

            <h2>ğŸ“œ ìƒì„¸ ë¶„ì„ ë¡œê·¸</h2>
            <h2>ğŸ›°ï¸ Step 1: ë™ì  ì½”ì¸ ìœ ë‹ˆë²„ìŠ¤ ì„ ì • (Live API)</h2><p>ì„ ì •ëœ ìœ ë‹ˆë²„ìŠ¤ (9ê°œ): ['ADA-USD', 'BCH-USD', 'BTC-USD', 'DOGE-USD', 'ETH-USD', 'LINK-USD', 'SOL-USD', 'TRX-USD', 'XRP-USD']</p><h2>ğŸ“¥ Step 2: í•„ìš” ë°ì´í„° ë‹¤ìš´ë¡œë“œ ë° ì—…ë°ì´íŠ¸</h2><h2>ğŸ“ˆ ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ (V10 - V3 Univ + V1 Canary)</h2><p><b>[Canary]</b> VT: $141.98 (+10.36%) | EEM: $54.88 (+12.46%) vs MA200</p><p>âœ… <b>Risk-On (ê³µê²©)</b>: VTì™€ EEM ëª¨ë‘ 200ì¼ì„  ìƒíšŒ</p><h4>ğŸš€ ê³µê²© ëª¨ë“œ: íŒ©í„° ìœ ë‹ˆë²„ìŠ¤(V3) ì„ ì •</h4><h5>íŒ©í„° ì ìˆ˜:</h5><table border="1" class="dataframe dataframe small-table">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Mom</th>
      <th>Qual</th>
    </tr>
    <tr>
      <th>Ticker</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>SPY</th>
      <td>0.083937</td>
      <td>2.124934</td>
    </tr>
    <tr>
      <th>QQQ</th>
      <td>0.092210</td>
      <td>1.789628</td>
    </tr>
    <tr>
      <th>EFA</th>
      <td>0.117982</td>
      <td>1.731273</td>
    </tr>
    <tr>
      <th>EEM</th>
      <td>0.131299</td>
      <td>2.199643</td>
    </tr>
    <tr>
      <th>VT</th>
      <td>0.096110</td>
      <td>2.166624</td>
    </tr>
    <tr>
      <th>VEA</th>
      <td>0.140072</td>
      <td>2.174575</td>
    </tr>
    <tr>
      <th>GLD</th>
      <td>0.278382</td>
      <td>2.723794</td>
    </tr>
    <tr>
      <th>PDBC</th>
      <td>0.056551</td>
      <td>1.080064</td>
    </tr>
    <tr>
      <th>QUAL</th>
      <td>0.066835</td>
      <td>1.857486</td>
    </tr>
    <tr>
      <th>MTUM</th>
      <td>0.055831</td>
      <td>1.062468</td>
    </tr>
    <tr>
      <th>IQLT</th>
      <td>0.092241</td>
      <td>1.274081</td>
    </tr>
    <tr>
      <th>IMTM</th>
      <td>0.118916</td>
      <td>1.802995</td>
    </tr>
  </tbody>
</table><p>ìµœì¢… ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤: <b>['EEM', 'GLD', 'VEA']</b></p>
            <h3>ğŸª™ ì½”ì¸ í¬íŠ¸í´ë¦¬ì˜¤ (V10) (2025-12-31)</h3><p>[BTC Canary] $88,346 (-1.67%) vs MA50 $89,846</p><table border="1" class="dataframe dataframe small-table">
  <thead>
    <tr style="text-align: right;">
      <th>Coin</th>
      <th>Price</th>
      <th>SMA30</th>
      <th>Mom21</th>
      <th>Score</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BCH-USD</td>
      <td>$599.14</td>
      <td>$581.31</td>
      <td>4.46%</td>
      <td>1.77</td>
      <td>ğŸŸ¢</td>
    </tr>
    <tr>
      <td>ETH-USD</td>
      <td>$2,969.71</td>
      <td>$3,026.02</td>
      <td>-10.70%</td>
      <td>-0.20</td>
      <td>ğŸ”´</td>
    </tr>
    <tr>
      <td>TRX-USD</td>
      <td>$0.28</td>
      <td>$0.28</td>
      <td>1.45%</td>
      <td>-0.79</td>
      <td>ğŸŸ¢</td>
    </tr>
    <tr>
      <td>SOL-USD</td>
      <td>$125.63</td>
      <td>$129.16</td>
      <td>-7.94%</td>
      <td>-1.22</td>
      <td>ğŸ”´</td>
    </tr>
    <tr>
      <td>BTC-USD</td>
      <td>$88,346.41</td>
      <td>$89,041.26</td>
      <td>-3.99%</td>
      <td>-1.35</td>
      <td>ğŸ”´</td>
    </tr>
    <tr>
      <td>DOGE-USD</td>
      <td>$0.12</td>
      <td>$0.13</td>
      <td>-14.40%</td>
      <td>-1.46</td>
      <td>ğŸ”´</td>
    </tr>
    <tr>
      <td>LINK-USD</td>
      <td>$12.35</td>
      <td>$13.05</td>
      <td>-12.56%</td>
      <td>-1.51</td>
      <td>ğŸ”´</td>
    </tr>
    <tr>
      <td>XRP-USD</td>
      <td>$1.87</td>
      <td>$1.96</td>
      <td>-8.59%</td>
      <td>-1.53</td>
      <td>ğŸ”´</td>
    </tr>
    <tr>
      <td>ADA-USD</td>
      <td>$0.35</td>
      <td>$0.39</td>
      <td>-22.58%</td>
      <td>-3.02</td>
      <td>ğŸ”´</td>
    </tr>
  </tbody>
</table><p>ğŸš¨ <b>Risk-Off</b>: BTC ì•½ì„¸ì¥. ì „ëŸ‰ í˜„ê¸ˆ.</p>

        </div>

        <script>
            const finalP = {"EEM": 0.19999999999999998, "GLD": 0.19999999999999998, "VEA": 0.19999999999999998, "Cash": 0.4};
            const stockP = {"EEM": 0.3333333333333333, "GLD": 0.3333333333333333, "VEA": 0.3333333333333333};
            const coinP = {"Cash": 1.0};
            
            const prices = {"EEM": 79685.76155090332, "GLD": 579188.3012695312, "VEA": 91171.0813293457};
            const symMap = {};

            function fmt(n) { return new Intl.NumberFormat('ko-KR').format(Math.round(n)) + ' ì›'; }

            function calc(type) {
                let amt = 0;
                let port = {};
                let title = "";
                
                if(type === 'total') {
                    amt = parseFloat(document.getElementById('invest-amt').value);
                    port = finalP;
                    title = "ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤ ë°°ë¶„ ê²°ê³¼ (ì£¼ì‹ 60% : ì½”ì¸ 40%)";
                } else if(type === 'stock') {
                    amt = parseFloat(document.getElementById('stock-amt').value);
                    port = stockP;
                    title = "ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ ë°°ë¶„ ê²°ê³¼ (ì£¼ì‹ 100%)";
                } else if(type === 'coin') {
                    amt = parseFloat(document.getElementById('coin-amt').value);
                    port = coinP;
                    title = "ì½”ì¸ í¬íŠ¸í´ë¦¬ì˜¤ ë°°ë¶„ ê²°ê³¼ (ì½”ì¸ 100%)";
                }
                
                if(!amt) return;
                
                let h = `<h3>${title}</h3>`;
                h += '<table><thead><tr><th>ì¢…ëª©</th><th>ë¹„ì¤‘</th><th>ê¸ˆì•¡</th><th>ë‹¨ê°€</th><th>ìˆ˜ëŸ‰</th></tr></thead><tbody>';
                
                let sortedKeys = Object.keys(port).sort((a,b) => port[b] - port[a]);
                
                for(let k of sortedKeys) {
                    const w = port[k];
                    const val = amt * w;
                    let pr = prices[k] || 0;
                    let qty = pr > 0 ? (val/pr).toFixed(4) : '-';
                    h += `<tr><td>${k}</td><td>${(w*100).toFixed(1)}%</td><td>${fmt(val)}</td><td>${fmt(pr)}</td><td>${qty}</td></tr>`;
                }
                h += '</tbody></table>';
                
                const resDiv = document.getElementById('calc-res');
                resDiv.style.display = 'block';
                resDiv.innerHTML = h;
            }

            // Init User Input Rows
            let rows = '<table>';
            for(let i=0; i<6; i++) {
                rows += `<tr><td><input class="u-tick" placeholder="Ticker (e.g. BTC)"></td><td><input class="u-amt" type="number" placeholder="Value (KRW)"></td></tr>`;
            }
            rows += '</table>';
            document.getElementById('my-assets').innerHTML = rows;

            function calcTurnover() {
               const inputs = document.querySelectorAll('.u-tick');
               const amts = document.querySelectorAll('.u-amt');
               let myP = {}, tot = 0;
               
               inputs.forEach((inp, i) => {
                   let t = inp.value.toUpperCase().trim();
                   let v = parseFloat(amts[i].value);
                   if(t && v > 0) {
                       if(symMap[t]) t = symMap[t];
                       else if(t !== 'CASH' && !t.endsWith('-USD')) t += '-USD';
                       
                       myP[t] = (myP[t]||0) + v;
                       tot += v;
                   }
               });
               
               if(tot===0) return;
               
               let myW = {};
               for(let k in myP) myW[k] = myP[k]/tot;
               
               let diff = 0;
               let allK = new Set([...Object.keys(myW), ...Object.keys(coinP)]);
               
               let h = '<table><thead><tr><th>Asset</th><th>My</th><th>Target</th><th>Diff</th></tr></thead><tbody>';
               
               allK.forEach(k => {
                   let w1 = myW[k] || 0;
                   let w2 = coinP[k] || 0;
                   let d = Math.abs(w1-w2);
                   diff += d;
                   h += `<tr><td>${k}</td><td>${(w1*100).toFixed(1)}%</td><td>${(w2*100).toFixed(1)}%</td><td>${(d*100).toFixed(1)}%</td></tr>`;
               });
               diff /= 2;
               h += '</tbody></table>';
               
               document.getElementById('turnover-res').innerHTML = `<h3>Turnover: ${ (diff*100).toFixed(2) }%</h3>` + h;
            }
        </script>
    </body>
    </html>
    